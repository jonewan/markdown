
# 大疆嵌入式2019笔试

## 1、ARM指令和Thumb指令

在ARM的体系结构中，可以工作在三种不同的状态，一是ARM状态，二是Thumb状态及Thumb-2状态，三是调试状态。而ARM状态和Thumb状态可以直接通过某些指令直接切换，都是在运行程序，只不过指令长度不一样而已。

* ARM状态：arm处理器工作于32位指令的状态，所有指令均为32位；
* Thumb状态：arm执行16位指令的状态，即16位状态；
* thumb-2状态：这个状态是ARM7版本的ARM处理器所具有的新的状态，新的thumb-2内核技术兼有16位及32位指令，实现了更高的性能，更有效的功耗及更少地占用内存。总的来说，感觉这个状态除了兼有arm和thumb的优点外，还在这两种状态上有所提升，优化；
* 调试状态：处理器停机时进入调试状态。

### ARM状态和Thumb状态切换程序：

* 从ARM到Thumb: `LDR R0,=lable+1 BX R0`（状态将寄存器的最低位设置为1，BX指令、R0指令将进入thumb状态）；
* 从ARM到Thumb: `LDR R0,=lable BX R0`（寄存器最低位设置为0，BX指令、R0指令将进入arm状态）。
* 当处理器进行异常处理时，则从异常向量地址开始执行，将自动进入ARM状态。

